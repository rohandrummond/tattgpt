<app-loader [isLoading]="isLoading"></app-loader>
<div class="full-vp flex column ctr">
    <app-nav></app-nav>
    <h1 class="heading-md">Your saved ideas</h1>
    <div class="card-ctr">
        @if (ideaData && ideaData.length > 0) {
            @for (item of ideaData; track item.id) {
                <div [id]="ideaHtmlIds[item.idea]" class="card">
                    <p class="heading-sm">{{ item.idea }}</p>
                    <p class="body-txt no-mp">{{ item.description }}</p>
                    <div class="img-ldr-ctr hide">
                        <div class="img-ldr"></div>
                    </div>
                    @if (item.image) {
                        <img [src]="item.image" class="card-img"/>
                    } @else {

                        <img src="/assets/images/placeholder.png" class="card-img card-img-ph">
                    }
                    <div class="card-btn-ctr"> 
                        @if (!item.image) {
                            <button (click)="generateImage(item)" class="btn-outline gen-img-btn">Generate Image</button>
                            <button (click)="appendImage(item)" class="btn save-img-btn hide">Save Image</button>
                        } @else {
                            <button class="btn gen-img-btn" disabled>Generate Image</button>
                        }
                        <button class="btn-dlt" (click)="deleteIdea(item)">Delete Idea</button>
                    </div>
                    @if (trackErrors.hasOwnProperty(item.idea)) {
                        <p class="sub-txt form-err no-mp">{{ trackErrors[item.idea] }}</p>
                    }
                </div>
            }
        } @else {
            <p class="body-txt">You don't have any saved ideas.</p>
        }
    </div>
</div>